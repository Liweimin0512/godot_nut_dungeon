[gd_scene load_steps=70 format=3 uid="uid://dcxjfw256ynb5"]

[ext_resource type="Script" uid="uid://c3djxdb3f0bkh" path="res://scenes/core/main.gd" id="1_i4sev"]
[ext_resource type="Resource" uid="uid://bshhcvu884gan" path="res://resources/data/combat/combat_test.tres" id="2_p2r0i"]
[ext_resource type="PackedScene" uid="uid://cokqr3cv3dqo6" path="res://scenes/character/character.tscn" id="2_tbu6l"]
[ext_resource type="Texture2D" uid="uid://bltisnnddxogx" path="res://assets/texture/background/game_background_1/layers/battleground.png" id="3_kek77"]
[ext_resource type="Texture2D" uid="uid://bq017wq6c0kk4" path="res://assets/texture/background/game_background_1/layers/back_decor.png" id="3_lquwl"]
[ext_resource type="Texture2D" uid="uid://ts74dkhjm30l" path="res://assets/texture/background/game_background_1/layers/back_land.png" id="4_4c57u"]
[ext_resource type="Texture2D" uid="uid://b4u5ewpyjas2f" path="res://assets/texture/background/game_background_1/layers/front_decor.png" id="6_efxa6"]
[ext_resource type="Texture2D" uid="uid://o0iacojv61wy" path="res://assets/texture/background/game_background_1/layers/ground_decor.png" id="7_dg77c"]
[ext_resource type="PackedScene" uid="uid://bgj5fmjvlf8j" path="res://scenes/ui/widget/game_form.tscn" id="8_f6a44"]
[ext_resource type="Script" uid="uid://3vewp25p5xy7" path="res://addons/godot_gameplay_ability_system/source/core/ability.gd" id="10_i3jsw"]
[ext_resource type="Script" uid="uid://cr537w1tp0l62" path="res://scripts/systems/ability/turn_based_skill_ability.gd" id="11_fbmiv"]
[ext_resource type="Script" uid="uid://carlbxgjnsnu4" path="res://addons/godot_gameplay_ability_system/source/core/ability_effect_node.gd" id="11_jgqsp"]
[ext_resource type="Script" uid="uid://c06x73u7b664j" path="res://scripts/systems/ability/ability_effect_node/move_to_casting_position_effect.gd" id="12_b2ey7"]
[ext_resource type="Script" uid="uid://chd8ky037o7bu" path="res://addons/godot_gameplay_ability_system/source/ability_effect_node/ability_effect_action_node/play_animation_node.gd" id="12_ebkt3"]
[ext_resource type="Script" uid="uid://ddbunl810nhrb" path="res://addons/godot_gameplay_ability_system/source/core/ability_attribute.gd" id="12_pr6ky"]
[ext_resource type="Script" path="res://addons/godot_gameplay_ability_system/source/ability_effect_node/ability_effect_control_node/control_random_selector_node.gd" id="13_42t4q"]
[ext_resource type="Script" uid="uid://cgm13esctfhto" path="res://addons/godot_gameplay_ability_system/source/core/ability_resource.gd" id="13_yomsl"]
[ext_resource type="Script" uid="uid://bhe651w8s0xoo" path="res://addons/godot_gameplay_ability_system/source/ability_cost_resource/health_resource.gd" id="14_b2ey7"]
[ext_resource type="Script" uid="uid://cnxxo4hdjduk2" path="res://addons/godot_gameplay_ability_system/source/ability_effect_node/ability_effect_action_node/deal_damage_node.gd" id="14_gi53d"]
[ext_resource type="Script" uid="uid://dg313716g8kfa" path="res://addons/godot_gameplay_ability_system/source/ability_effect_node/ability_effect_control_node/control_parallel_node.gd" id="15_exoq3"]
[ext_resource type="Script" uid="uid://cfeo8lbyg1cn4" path="res://addons/godot_gameplay_ability_system/source/ability_cost_resource/rage_resource.gd" id="15_yg6x3"]
[ext_resource type="Texture2D" uid="uid://cuda6m0iar23d" path="res://assets/sprites/characters/heros/crystal_mauler/death.png" id="16_xle73"]
[ext_resource type="Texture2D" uid="uid://bdnbkx1smbbb8" path="res://assets/sprites/characters/heros/crystal_mauler/take_hit.png" id="17_ah51y"]
[ext_resource type="Texture2D" uid="uid://ey4jlg2yhxxs" path="res://assets/texture/icon/Buffs/critical_boost.png" id="17_w7hn7"]
[ext_resource type="Script" uid="uid://cm45kxk6egxy8" path="res://addons/godot_gameplay_ability_system/source/ability_effect_node/ability_effect_control_node/control_sequence_node.gd" id="17_yg6x3"]
[ext_resource type="Texture2D" uid="uid://clkhxmxdtgch" path="res://assets/sprites/characters/heros/crystal_mauler/idle.png" id="18_gcaj3"]
[ext_resource type="Texture2D" uid="uid://pahg3p51mxjh" path="res://assets/texture/icon/Spells/poison_dagger.png" id="18_lsjgq"]
[ext_resource type="Texture2D" uid="uid://cqcg1s3a5cmh7" path="res://assets/sprites/characters/heros/crystal_mauler/attack_1.png" id="19_jgqsp"]
[ext_resource type="Script" uid="uid://b5wl0kwy4qx4h" path="res://addons/godot_gameplay_ability_system/source/ability_cost/ability_resource_cost.gd" id="19_xle73"]
[ext_resource type="Texture2D" uid="uid://wi5dcpmpg532" path="res://assets/sprites/characters/heros/crystal_mauler/attack_2.png" id="20_ebkt3"]
[ext_resource type="Texture2D" uid="uid://do32nap8q4ivc" path="res://assets/sprites/characters/heros/crystal_mauler/attack_3.png" id="21_42t4q"]
[ext_resource type="Texture2D" uid="uid://bpvjoschbdt58" path="res://assets/texture/icon/skills/Icon26.png" id="22_ah51y"]
[ext_resource type="Texture2D" uid="uid://cp1hx3khybf0k" path="res://assets/sprites/characters/heros/crystal_mauler/attack_sp.png" id="22_gi53d"]
[ext_resource type="Texture2D" uid="uid://c8u84o1yqlptj" path="res://assets/sprites/characters/heros/crystal_mauler/defend.png" id="23_exoq3"]
[ext_resource type="Texture2D" uid="uid://bao6re1ye1rot" path="res://assets/texture/icon/skills/Icon34.png" id="23_gcaj3"]
[ext_resource type="Texture2D" uid="uid://soh3pdkvfr2w" path="res://assets/texture/icon/character_profile_picture/crystal_mauler.png" id="24_w7hn7"]
[ext_resource type="Script" uid="uid://y7e57jl00jdj" path="res://scripts/resources/character_model.gd" id="25_lsjgq"]

[sub_resource type="Resource" id="Resource_04fxw"]
script = ExtResource("12_b2ey7")
casting_position_type = 1
action_position_offset = Vector2(50, 0)
move_time = 0.4
wait_move_complete = true
pre_delay = 0.0
post_delay = 0.0
effect_name = &""
enabled = true
metadata/_custom_type_script = ExtResource("12_b2ey7")

[sub_resource type="Resource" id="Resource_qpwpp"]
script = ExtResource("12_ebkt3")
animation_name = "attack"
blend_time = -1.0
custom_speed = 1.0
wait_for_completion = false
animation_unit_type = "caster"
pre_delay = 0.0
post_delay = 0.0
effect_name = &""
enabled = true
metadata/_custom_type_script = ExtResource("12_ebkt3")

[sub_resource type="Resource" id="Resource_5h322"]
script = ExtResource("12_ebkt3")
animation_name = "attack_2"
blend_time = -1.0
custom_speed = 1.0
wait_for_completion = false
animation_unit_type = "caster"
pre_delay = 0.0
post_delay = 0.0
effect_name = &""
enabled = true
metadata/_custom_type_script = ExtResource("12_ebkt3")

[sub_resource type="Resource" id="Resource_51sya"]
script = ExtResource("13_42t4q")
weights = Array[float]([])
children = Array[ExtResource("11_jgqsp")]([SubResource("Resource_qpwpp"), SubResource("Resource_5h322")])
effect_name = &""
enabled = true
metadata/_custom_type_script = ExtResource("13_42t4q")

[sub_resource type="Resource" id="Resource_3uxty"]
script = ExtResource("14_gi53d")
damage_multiplier = 1.0
damage_multiplier_array = Array[float]([])
damage_type = 0
is_indirect = false
pre_delay = 0.4
post_delay = 0.4
effect_name = &""
enabled = true
metadata/_custom_type_script = ExtResource("14_gi53d")

[sub_resource type="Resource" id="Resource_flti0"]
script = ExtResource("15_exoq3")
success_policy = 0
children = Array[ExtResource("11_jgqsp")]([SubResource("Resource_51sya"), SubResource("Resource_3uxty")])
effect_name = &""
enabled = true
metadata/_custom_type_script = ExtResource("15_exoq3")

[sub_resource type="Resource" id="Resource_0fhl8"]
script = ExtResource("17_yg6x3")
children = Array[ExtResource("11_jgqsp")]([SubResource("Resource_04fxw"), SubResource("Resource_flti0")])
effect_name = &""
enabled = true
metadata/_custom_type_script = ExtResource("17_yg6x3")

[sub_resource type="Resource" id="Resource_b2ey7"]
resource_local_to_scene = true
script = ExtResource("11_fbmiv")
target_type = &"enemy"
cooldown = 0
current_cooldown = 0
is_show = false
ability_name = &"普通攻击"
ability_tags = Array[StringName]([])
ability_description = ""
is_auto_cast = false
effect_container = SubResource("Resource_0fhl8")
effect_config_path = ""
metadata/_custom_type_script = ExtResource("11_fbmiv")

[sub_resource type="Resource" id="Resource_w0r25"]
script = ExtResource("19_xle73")
cost_resource_name = &"怒气值"
cost_value = 30
metadata/_custom_type_script = ExtResource("19_xle73")

[sub_resource type="Resource" id="Resource_yg6x3"]
resource_local_to_scene = true
script = ExtResource("11_fbmiv")
target_type = &"ally"
ability_cost = SubResource("Resource_w0r25")
cooldown = 3
current_cooldown = 0
is_show = true
ability_name = &"战争怒吼"
ability_tags = Array[StringName]([])
ability_description = "发出怒吼，激励自己和周围的盟友。"
icon = ExtResource("17_w7hn7")
is_auto_cast = false
effect_config_path = "res://resources/data/abilities/skill_effects/battle_cry_effect.json"

[sub_resource type="Resource" id="Resource_h4l4i"]
script = ExtResource("19_xle73")
cost_resource_name = &"怒气值"
cost_value = 15
metadata/_custom_type_script = ExtResource("19_xle73")

[sub_resource type="Resource" id="Resource_xle73"]
resource_local_to_scene = true
script = ExtResource("11_fbmiv")
target_type = &"enemy"
ability_cost = SubResource("Resource_h4l4i")
cooldown = 2
current_cooldown = 0
is_show = true
ability_name = &"重击"
ability_tags = Array[StringName]([])
ability_description = "对单个敌人进行强力一击"
icon = ExtResource("18_lsjgq")
is_auto_cast = false
effect_config_path = "res://resources/data/abilities/skill_effects/heroic_strike_effect.json"

[sub_resource type="Resource" id="Resource_ah51y"]
resource_local_to_scene = true
script = ExtResource("11_fbmiv")
target_type = &"self"
cooldown = 0
current_cooldown = 0
is_show = true
ability_name = &"不屈精神"
ability_tags = Array[StringName]([])
ability_description = "在受到攻击时，有几率获得额外的怒气"
icon = ExtResource("22_ah51y")
is_auto_cast = true
effect_config_path = "res://resources/data/abilities/skill_effects/unyielding_effect.json"

[sub_resource type="Resource" id="Resource_gcaj3"]
resource_local_to_scene = true
script = ExtResource("11_fbmiv")
target_type = &""
cooldown = 0
current_cooldown = 0
is_show = true
ability_name = &"反击"
ability_tags = Array[StringName]([])
ability_description = "在受到普通攻击时有机会进行反击"
icon = ExtResource("23_gcaj3")
is_auto_cast = true
effect_config_path = "res://resources/data/abilities/skill_effects/counter_attack_effect.json"

[sub_resource type="Resource" id="Resource_jgqsp"]
resource_local_to_scene = true
script = ExtResource("12_pr6ky")
attribute_name = &"生命值"
_base_value = 100.0

[sub_resource type="Resource" id="Resource_ebkt3"]
resource_local_to_scene = true
script = ExtResource("12_pr6ky")
attribute_name = &"攻击力"
_base_value = 10.0

[sub_resource type="Resource" id="Resource_42t4q"]
resource_local_to_scene = true
script = ExtResource("12_pr6ky")
attribute_name = &"防御力"
_base_value = 5.0

[sub_resource type="Resource" id="Resource_gi53d"]
resource_local_to_scene = true
script = ExtResource("12_pr6ky")
attribute_name = &"速度"
_base_value = 10.0

[sub_resource type="Resource" id="Resource_w4m7k"]
script = ExtResource("12_pr6ky")
attribute_name = &"命中率"
_base_value = 1.0

[sub_resource type="Resource" id="Resource_1sug7"]
script = ExtResource("12_pr6ky")
attribute_name = &"暴击率"
_base_value = 0.0

[sub_resource type="Resource" id="Resource_bgern"]
script = ExtResource("14_b2ey7")
ability_resource_name = &"生命值"
current_value = 0
max_value = 0
attribute_name = &"生命值"
resource_color = Color(1, 0, 0, 1)
size_y = 10

[sub_resource type="Resource" id="Resource_exoq3"]
resource_local_to_scene = true
script = ExtResource("15_yg6x3")
regain_hited = 10
regain_hurted = 5
ability_resource_name = &"怒气值"
current_value = 0
max_value = 100
attribute_name = &""
resource_color = Color(0.678431, 0.215686, 0, 1)
size_y = 10

[sub_resource type="Animation" id="Animation_p0q65"]
resource_name = "attack"
length = 0.6
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("19_jgqsp")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_eneae"]
resource_name = "attack_2"
length = 0.7
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("20_ebkt3")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [7]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
}

[sub_resource type="Animation" id="Animation_7afe6"]
resource_name = "attack_3"
length = 1.7
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("21_42t4q")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [17]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.8, 1.9, 2, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 20, 21, 22, 23, 24, 25, 26]
}

[sub_resource type="Animation" id="Animation_4608p"]
resource_name = "attack_sp"
length = 1.5
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("22_gi53d")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [15]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.6, 1.7, 1.8, 1.9, 2, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9, 3, 3.1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]
}

[sub_resource type="Animation" id="Animation_81jv6"]
resource_name = "defend"
length = 0.9
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("23_exoq3")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [9]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 1, 1.1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11]
}

[sub_resource type="Animation" id="Animation_ui101"]
resource_name = "die"
length = 1.5
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("16_xle73")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [15]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
}

[sub_resource type="Animation" id="Animation_cndte"]
resource_name = "hit"
length = 0.6
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("17_ah51y")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_f8bwf"]
resource_name = "idle"
length = 0.8
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("18_gcaj3")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [8]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_w7hn7"]
resource_local_to_scene = true
_data = {
&"attack": SubResource("Animation_p0q65"),
&"attack_2": SubResource("Animation_eneae"),
&"attack_3": SubResource("Animation_7afe6"),
&"attack_sp": SubResource("Animation_4608p"),
&"defend": SubResource("Animation_81jv6"),
&"die": SubResource("Animation_ui101"),
&"hit": SubResource("Animation_cndte"),
&"idle": SubResource("Animation_f8bwf")
}

[sub_resource type="Resource" id="Resource_lsjgq"]
resource_local_to_scene = true
script = ExtResource("25_lsjgq")
character_name = &"战士"
character_icon = ExtResource("24_w7hn7")
ability_attributes = Array[ExtResource("12_pr6ky")]([SubResource("Resource_jgqsp"), SubResource("Resource_ebkt3"), SubResource("Resource_42t4q"), SubResource("Resource_gi53d"), SubResource("Resource_w4m7k"), SubResource("Resource_1sug7")])
abilities = Array[ExtResource("10_i3jsw")]([SubResource("Resource_b2ey7"), SubResource("Resource_yg6x3"), SubResource("Resource_xle73"), SubResource("Resource_ah51y"), SubResource("Resource_gcaj3")])
ability_resources = Array[ExtResource("13_yomsl")]([SubResource("Resource_bgern"), SubResource("Resource_exoq3")])
animation_library = SubResource("AnimationLibrary_w7hn7")
sprite_position = Vector2(0, -64)

[node name="Main" type="Node2D"]
script = ExtResource("1_i4sev")
combat_test = ExtResource("2_p2r0i")

[node name="BackgroundLayer" type="CanvasLayer" parent="."]
layer = -128

[node name="Parallax2D3" type="Parallax2D" parent="BackgroundLayer"]
repeat_size = Vector2(576, 0)
metadata/_edit_lock_ = true

[node name="Sprite2D" type="Sprite2D" parent="BackgroundLayer/Parallax2D3"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("3_kek77")
centered = false

[node name="Parallax2D2" type="Parallax2D" parent="BackgroundLayer"]
repeat_size = Vector2(576, 0)
metadata/_edit_lock_ = true

[node name="Sprite2D" type="Sprite2D" parent="BackgroundLayer/Parallax2D2"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("4_4c57u")
centered = false

[node name="Parallax2D" type="Parallax2D" parent="BackgroundLayer"]
repeat_size = Vector2(576, 0)
metadata/_edit_lock_ = true

[node name="Sprite2D" type="Sprite2D" parent="BackgroundLayer/Parallax2D"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("3_lquwl")
centered = false

[node name="Parallax2D5" type="Parallax2D" parent="BackgroundLayer"]
repeat_size = Vector2(576, 0)
metadata/_edit_lock_ = true

[node name="Sprite2D" type="Sprite2D" parent="BackgroundLayer/Parallax2D5"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("7_dg77c")
centered = false

[node name="ProspectsLayer" type="CanvasLayer" parent="."]
layer = 64

[node name="Parallax2D4" type="Parallax2D" parent="ProspectsLayer"]
metadata/_edit_lock_ = true

[node name="Sprite2D" type="Sprite2D" parent="ProspectsLayer/Parallax2D4"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("6_efxa6")
centered = false
metadata/_edit_lock_ = true

[node name="UILayer" type="CanvasLayer" parent="."]
layer = 128

[node name="GameForm" parent="UILayer" instance=ExtResource("8_f6a44")]

[node name="PlayerMarkers" type="Node2D" parent="."]

[node name="Marker2D" type="Marker2D" parent="PlayerMarkers"]
position = Vector2(216, 144)

[node name="PlayerCharacter5" parent="PlayerMarkers/Marker2D" groups=["Character", "Player"] instance=ExtResource("2_tbu6l")]
character_model = SubResource("Resource_lsjgq")

[node name="Marker2D2" type="Marker2D" parent="PlayerMarkers"]
position = Vector2(180, 168)

[node name="Marker2D3" type="Marker2D" parent="PlayerMarkers"]
position = Vector2(132, 144)

[node name="Marker2D4" type="Marker2D" parent="PlayerMarkers"]
position = Vector2(96, 168)

[node name="Marker2D5" type="Marker2D" parent="PlayerMarkers"]
position = Vector2(48, 144)

[node name="EnemyMarkers" type="Node2D" parent="."]

[node name="Marker2D" type="Marker2D" parent="EnemyMarkers"]
position = Vector2(356, 144)
gizmo_extents = 128.0

[node name="Marker2D2" type="Marker2D" parent="EnemyMarkers"]
position = Vector2(404, 168)
gizmo_extents = 128.0

[node name="Marker2D3" type="Marker2D" parent="EnemyMarkers"]
position = Vector2(440, 144)
gizmo_extents = 128.0

[node name="Marker2D4" type="Marker2D" parent="EnemyMarkers"]
position = Vector2(488, 168)
gizmo_extents = 128.0

[node name="Marker2D5" type="Marker2D" parent="EnemyMarkers"]
position = Vector2(524, 144)
gizmo_extents = 128.0

[node name="MarkerAction" type="Marker2D" parent="."]
unique_name_in_owner = true
position = Vector2(288, 160)
